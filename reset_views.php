<?php
// รวมไฟล์การเชื่อมต่อฐานข้อมูล
require_once __DIR__ . '/../config/config.php';

// ตรวจสอบว่าผู้ใช้เป็นผู้ดูแลระบบหรือไม่ก่อนดำเนินการ
// เพื่อป้องกันไม่ให้ใครก็ได้สามารถรีเซ็ตข้อมูลได้
// (คุณอาจต้องปรับโค้ดนี้ตามระบบการล็อกอินแอดมินของคุณ)
// if (!isset($_SESSION['admin_logged_in']) || $_SESSION['admin_logged_in'] !== true) {
//     die("คุณไม่มีสิทธิ์ในการเข้าถึงหน้านี้");
// }

// คำสั่ง SQL เพื่ออัปเดตค่า viewCount ในตาราง statistic ให้เป็น 0 ทั้งหมด
$sql = "UPDATE statistic SET viewCount = 0";

// เตรียมและประมวลผลคำสั่ง
if ($conn->query($sql) === TRUE) {
    echo "<h1>✅ รีเซ็ตจำนวนผู้เข้าชมสำเร็จแล้ว!</h1>";
} else {
    echo "<h1>❌ เกิดข้อผิดพลาดในการรีเซ็ตจำนวนผู้เข้าชม: " . $conn->error . "</h1>";
}

// ปิดการเชื่อมต่อฐานข้อมูล
$conn->close();
?>